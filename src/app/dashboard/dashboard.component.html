<h1 class="mat-display-1">Dashboard</h1>

<mat-card>
  <mat-card-content>
    Welcome to Aqua Viewer, the web interface for Aqua server.<br>
    This instance configured to {{enableImages ? 'use image assets.' : 'not to use image assets.'}}
  </mat-card-content>
</mat-card>
<div class="card">
  <div class="card-body">
    {{user.name}}
  </div>
  <div *ngFor="let card of user.cards" class="card-body">
    <div class="mb-3">
      {{card.extId}}
    </div>
    <div class="mb-3">
      {{card.luid}}
    </div>
    <div *ngFor="let cardExternal of card.cardExternalList" class="mb-3">
      {{cardExternal.luid}}
      <button class="btn btn-primary btn-sm" (click)="removeExternal(cardExternal)">Remove External</button>
    </div>

    <button class="btn btn-primary btn-sm" (click)="open(addAccessCode)">Add AccessCode</button>
    <button class="btn btn-primary btn-sm"
            [disabled]="card.default"
            (click)="setDefault(card)">Set Default</button>
    <ng-template #addAccessCode let-modal>
      <div class="modal-header">
        Add AccessCode
      </div>
      <div class="modal-body">
        <form (ngSubmit)="onAddAccessCode(card, modal)" [formGroup]="addAccessCodeForm">
          <div class="d-grid">

            <input type="text" class="form-control mb-3" formControlName="accessCode" placeholder="AccessCode">
            <button type="submit" class="btn btn-primary btn-sm">OK</button>
          </div>
        </form>
      </div>
    </ng-template>
  </div>

  <div class="card-body">
    <button class="btn btn-primary btn-sm" (click)="open(addCard)">Add Card</button>
  </div>
  <ng-template #addCard let-modal>
    <div class="modal-header">
      AddCard
    </div>
    <div class="modal-body">
      <form (ngSubmit)="onAddCard(modal)" [formGroup]="addCardForm">
        <div class="d-grid">
          <input type="text" class="form-control mb-3" formControlName="accessCode" placeholder="AccessCode">
          <button type="submit" class="btn btn-primary btn-sm">OK</button>
        </div>
      </form>
    </div>
  </ng-template>
</div>
<mat-card>
  <mat-card-title>Status</mat-card-title>
  <mat-card-content>
    Diva Music List: {{divaPv}}<br>
    Diva Module List: {{divaPv}}<br>
    Diva Customize List: {{divaPv}}<br>
    Chunithm Music List: {{chuniMusic}}<br>
    Chunithm Character List: {{chuniCharacter}}<br>
    Chunithm Skill List: {{chuniSkill}}<br>
    Ongeki Card List: {{ongekiCard}}<br>
    Ongeki Character List: {{ongekiCharacter}}<br>
    Ongeki Music List: {{ongekiMusic}}<br>
    Ongeki Skill List: {{ongekiSkill}}<br>
    Chunithm New Music List: {{chusanMusic}}<br>
    Chunithm New Character List: {{chusanCharacter}}<br>
    Chunithm New Trophy List: {{chusanTrophy}}<br>
    Chunithm New Nameplate List: {{chusanNamePlate}}<br>
    Chunithm New System Voice List: {{chusanSystemVoice}}<br>
    Chunithm New Map Icon List: {{chusanMapIcon}}<br>
    Chunithm New Frame List: {{chusanFrame}}<br>
    Chunithm New Avatar Accessory List: {{chusanAvatarAcc}}<br>
  </mat-card-content>
  <mat-card-actions>
    <button mat-button (click)="reload()">Clean Cache</button>
  </mat-card-actions>
</mat-card>
