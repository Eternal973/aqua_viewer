<h1>Rating</h1>

<div class="card">
  <div class="card-body">
    <div class="rating-info">
      <p>Total Rating: <span class="{{(topTotal + recentTotal) / 40 | toRating | ratingClass}}">{{(topTotal + recentTotal) / 40 | toRating }}</span></p>
      <p>Top: <span class="{{topTotal / 30 | toRating | ratingClass}}">{{topTotal / 30 | toRating }}</span></p>
      <p>Recent: <span class="{{recentTotal / 10 | toRating | ratingClass}}">{{recentTotal / 10 | toRating }}</span></p>
    </div>
  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title mb-3">Top</h5>
    <table class="table table-borderless table-striped align-middle">
      <thead>
      <th colspan="2">Music</th>
      <th>Diff</th>
      <th>Score</th>
      <th>Rating</th>
      </thead>
      <tbody>
      <tr *ngFor="let item of topRating; index as i">
        <td class="music-img">
          <img class="w-100" *ngIf="enableImages == true" src="{{host}}assets/chuni/jacket/CHU_UI_Jacket_{{item.musicId|formatNumber:4}}.jpg">
        </td>
        <td class="music-title">
          {{i + 1}}. {{item.musicName}}
        </td>
        <td class="fw-bold">
          {{item.ratingBase|toRating}}
        </td>
        <td>
          {{item.score}}
        </td>
        <td>
          <span class="{{item.rating|toRating|ratingClass}}">{{item.rating|toRating}}</span>
        </td>
      </tr>
      </tbody>
    </table>

  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title mb-3">Recent</h5>
    <table class="table table-borderless table-striped align-middle">
      <thead>
      <th colspan="2">Music</th>
      <th>Diff</th>
      <th>Score</th>
      <th>Rating</th>
      </thead>
      <tbody>
      <tr *ngFor="let item of recentRating; index as i">
        <td class="music-img">
          <img class="w-100" *ngIf="enableImages == true" src="{{host}}assets/chuni/jacket/CHU_UI_Jacket_{{item.musicId|formatNumber:4}}.jpg">
        </td>
        <td class="music-title">
          {{i + 1}}. {{item.musicName}}
        </td>
        <td class="fw-bold">
          {{item.ratingBase|toRating}}
        </td>
        <td>
          {{item.score}}
        </td>
        <td>
          <span class="{{item.rating|toRating|ratingClass}}">{{item.rating|toRating}}</span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
