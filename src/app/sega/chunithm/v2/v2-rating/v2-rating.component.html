<h1>Rating</h1>

<div class="card">
  <div class="card-body">
    <div class="rating-info">
      Total Rating: {{(topTotal + recentTotal) / 40 | toRating }}<br>
      Top: {{topTotal / 30 | toRating }}<br/>
      Recent: {{recentTotal / 10 | toRating }}
    </div>
  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title mb-3">Top</h5>
    <table class="table table-borderless table-striped align-middle">
      <thead>
      <th>Music</th>
      <th>Diff</th>
      <th>Score</th>
      <th>Rating</th>
      </thead>
      <tbody>
      <tr *ngFor="let item of topRating; index as i">
        <td>
          <img *ngIf="enableImages == true" src="{{host}}assets/chuni/jacket/CHU_UI_Jacket_{{item.musicId|formatNumber:4}}.jpg">
          {{i + 1}}. {{item.musicName}}
        </td>
        <td>
          {{item.ratingBase|toRating}}
        </td>
        <td>
          {{item.score}}
        </td>
        <td>
          <span class="{{item.rating|toRating|ratingClass}}">{{item.rating|toRating}}</span>
        </td>
      </tr>
      </tbody>
    </table>

  </div>
</div>

<div class="card mt-3">
  <div class="card-body">
    <h5 class="card-title mb-3">Recent</h5>
    <table class="table table-borderless table-striped align-middle">
      <thead>
      <th>Music</th>
      <th>Diff</th>
      <th>Score</th>
      <th>Rating</th>
      </thead>
      <tbody>
      <tr *ngFor="let item of recentRating; index as i">
        <td>
          <img *ngIf="enableImages == true" src="{{host}}assets/chuni/jacket/CHU_UI_Jacket_{{item.musicId|formatNumber:4}}.jpg">
          {{i + 1}}. {{item.musicName}}
        </td>
        <td>
          {{item.ratingBase|toRating}}
        </td>
        <td>
          {{item.score}}
        </td>
        <td>
          <span class="{{item.rating|toRating|ratingClass}}">{{item.rating|toRating}}</span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
